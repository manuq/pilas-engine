<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="" >
  <head>
    <meta charset="utf-8" />
    <meta name="generator" content="pandoc" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
          <title>Cómo exportar juegos</title>
    <style>
      code{white-space: pre-wrap;}
      span.smallcaps{font-variant: small-caps;}
      span.underline{text-decoration: underline;}
      div.column{display: inline-block; vertical-align: top; width: 50%;}
      div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
      ul.task-list{list-style: none;}
      pre > code.sourceCode { white-space: pre; position: relative; }
      pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
      pre > code.sourceCode > span:empty { height: 1.2em; }
      code.sourceCode > span { color: inherit; text-decoration: inherit; }
      div.sourceCode { margin: 1em 0; }
      pre.sourceCode { margin: 0; }
      @media screen {
      div.sourceCode { overflow: auto; }
      }
      @media print {
      pre > code.sourceCode { white-space: pre-wrap; }
      pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
      }
      pre.numberSource code
        { counter-reset: source-line 0; }
      pre.numberSource code > span
        { position: relative; left: -4em; counter-increment: source-line; }
      pre.numberSource code > span > a:first-child::before
        { content: counter(source-line);
          position: relative; left: -1em; text-align: right; vertical-align: baseline;
          border: none; display: inline-block;
          -webkit-touch-callout: none; -webkit-user-select: none;
          -khtml-user-select: none; -moz-user-select: none;
          -ms-user-select: none; user-select: none;
          padding: 0 4px; width: 4em;
        }
      pre.numberSource { margin-left: 3em;  padding-left: 4px; }
      div.sourceCode
        { color: #cccccc; background-color: #303030; }
      @media screen {
      pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
      }
      code span.al { color: #ffcfaf; } /* Alert */
      code span.an { color: #7f9f7f; font-weight: bold; } /* Annotation */
      code span.at { } /* Attribute */
      code span.bn { color: #dca3a3; } /* BaseN */
      code span.bu { } /* BuiltIn */
      code span.cf { color: #f0dfaf; } /* ControlFlow */
      code span.ch { color: #dca3a3; } /* Char */
      code span.cn { color: #dca3a3; font-weight: bold; } /* Constant */
      code span.co { color: #7f9f7f; } /* Comment */
      code span.cv { color: #7f9f7f; font-weight: bold; } /* CommentVar */
      code span.do { color: #7f9f7f; } /* Documentation */
      code span.dt { color: #dfdfbf; } /* DataType */
      code span.dv { color: #dcdccc; } /* DecVal */
      code span.er { color: #c3bf9f; } /* Error */
      code span.ex { } /* Extension */
      code span.fl { color: #c0bed1; } /* Float */
      code span.fu { color: #efef8f; } /* Function */
      code span.im { } /* Import */
      code span.in { color: #7f9f7f; font-weight: bold; } /* Information */
      code span.kw { color: #f0dfaf; } /* Keyword */
      code span.op { color: #f0efd0; } /* Operator */
      code span.ot { color: #efef8f; } /* Other */
      code span.pp { color: #ffcfaf; font-weight: bold; } /* Preprocessor */
      code span.sc { color: #dca3a3; } /* SpecialChar */
      code span.ss { color: #cc9393; } /* SpecialString */
      code span.st { color: #cc9393; } /* String */
      code span.va { } /* Variable */
      code span.vs { color: #cc9393; } /* VerbatimString */
      code span.wa { color: #7f9f7f; font-weight: bold; } /* Warning */
    </style>
        <link rel="stylesheet" href="estilo.css" />
        <script src="./manual.js" charset="utf-8"></script>
      <div class="tc navegacion">
  <a href="index.html">Regresar al índice</a>
</div> 
  </head>
  <body>
         <header id="title-block-header">
      <h1 class="title">Cómo exportar juegos</h1>
            </header>
      <p>El editor de pilas incluye la posibilidad de exportar proyectos completos para ser utilizados sin el editor.</p>
<p>Para exportar un juego simplemente hay que pulsar el botón Exportar del editor:</p>
<p><img src="imagenes/exportar_juegos.assets/exportar.png" /></p>
<p>A continuación se nos va a mostrar una pantalla de exportación, que demora unos minutos ya que tiene que recopilar todos los recursos necesarios, y luego obtendremos un archivo comprimido con el proyecto:</p>
<p><img src="imagenes/exportar_juegos.assets/archivo-exportado.png" /></p>
<p>Este archivo .zip aloja el proyecto completo, así que podemos utilizarlo para punto de partida para llevar nuestro juego a otro lugar.</p>
<p>A continuación se muestran algunas alternativas de publicación:</p>
<h3 id="qué-contiene-el-archivo-exportado">¿Qué contiene el archivo exportado?</h3>
<p>El archivo .zip se puede descomprimir fácilmente con las herramientas que vienen instaladas en cualquier sistema operativo.</p>
<p>Una vez que se descomprime, vamos a observar un archivo de ayuda y una carpeta llamada “proyecto” con todos los recursos de nuestro juego:</p>
<p><img src="imagenes/exportar_juegos.assets/arbol.png" /></p>
<h3 id="cómo-ejecutar-mi-juego-sin-el-editor">Cómo ejecutar mi juego sin el editor</h3>
<p>El primer paso es tener instalado <a href="https://nodejs.org/es/">Node.JS</a> y acceso a un terminal para ejecutar comandos.</p>
<p>Luego, se tiene que ingresar en el directorio “proyecto” y ejecutar el comando:</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb1-1"><a href="#cb1-1"></a><span class="ex">npm</span> install</span></code></pre></div>
<p>Si todo va bien, deberíamos ver que el instalador de paquetes de node trabaja unos segundos para descargar todo lo necesario para seguir trabajando:</p>
<p><img src="imagenes/exportar_juegos.assets/instalando-dependencias.png" /></p>
<p>A partir de este punto, vas a tener la posiblidad de hacer alguna de estas cosas:</p>
<h3 id="probar-la-aplicación-en-un-servidor-local">Probar la aplicación en un servidor local</h3>
<p>Para iniciar el juego directamente en un navegador podrías escribir este comando en el mismo directorio “proyecto”:</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb2-1"><a href="#cb2-1"></a><span class="ex">npm</span> start</span></code></pre></div>
<p>A continuación se va a abrir el navegador y tu juego.</p>
<p><img src="imagenes/exportar_juegos.assets/web.png" /></p>
<p>Ten en cuenta que pilas no funciona directamente abriendo el archivo index.html en un navegador, la razón por la que no puede andar directamente es porque necesita cargar archivos mientras se inicializa usando ajax (algo que los navegadores no pueden hacer si se inicializan abriendo un archivo .html de forma directa).</p>
<h3 id="ejecutar-tu-juego-en-electron-de-forma-offline">Ejecutar tu juego en electron de forma offline</h3>
<p>Otra opción es lanzar el juego como si se tratara de una aplicación dedicada, sin necesidad de un navegador.</p>
<p>Para eso, tendrías que ejecutar este comando:</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb3-1"><a href="#cb3-1"></a><span class="ex">npm</span> run electron</span></code></pre></div>
<p><img src="imagenes/exportar_juegos.assets/electron-ejecucion.png" /></p>
<h3 id="cómo-crear-versiones-empaquetas-para-distribuir-.exe-dmg-etc">Cómo crear versiones empaquetas para distribuir (.exe, dmg etc)</h3>
<p>Una opción muy solicitada a la hora de exportar juegos es poder hacerlos completamente portables, y que la persona que recibe el juego no tenga que instalar o configurar nada para jugar al juego, solamente hacer “doble click” en un archivo y jugar.</p>
<p>Pilas permite hacer esto mediante la herramienta que mencionamos antes llamada electron y una serie de scripts.</p>
<p>Tomemos el ejemplo más solicitado, hagamos que nuestro juego se pueda compilar para windows y distribuirse como un archivo .exe. Lo que tenemos que hacer es hacer doble click en los archivos:</p>
<ul>
<li>instalar_dependencias.bat</li>
<li>generar_version_exe.bat</li>
</ul>
<p>o bien, abrir el comando “cmd”, ingresar en el directorio del juego exportado y ejecutar estos comandos:</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb4-1"><a href="#cb4-1"></a><span class="ex">npm</span> install electron-packager --save-dev</span>
<span id="cb4-2"><a href="#cb4-2"></a></span>
<span id="cb4-3"><a href="#cb4-3"></a><span class="ex">node_modules/.bin/electron-packager</span> . mijuego --platform=win32 --arch=ia32</span></code></pre></div>
<p>El comando demorará unos segundos, cuando termine aparecerá un mensaje indicando que los archivos están listos:</p>
<p><img src="imagenes/exportar_juegos.assets/image-20190630234419298.png" /></p>
<p>En mi caso, los archivos se generaron en un directorio llamado “mijuego-win32-ia32”. Ese directorio completo es el que se puede entregar a los usuarios de windows para que puedan ejecutar el juego haciendo doble click en el archivo .exe:</p>
<p><img src="imagenes/exportar_juegos.assets/juego-exe.png" /></p>
<p>Si además de windows estás buscando llevar tu juego a otras plataformas como gnu/linux, mac/osx o raspberry también hay un parámetro para lanzar la compilación en todas las plataformas soportadas así:</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb5-1"><a href="#cb5-1"></a><span class="ex">node_modules/.bin/electron-packager</span> . mijuego --all</span></code></pre></div>
<p>Hay varios parámetros más, pero para no extendernos mucho te dejamos la <a href="https://github.com/electron-userland/electron-packager#usage">documentación detallada de electron-packager</a></p>
<p>Por cierto, si quieres investigar exactamente qué hacen estos scripts podrías profundizar tu investigación mirando la <a href="https://electronjs.org/docs/tutorial/application-distribution">documentación de electron sobre distribución de binarios</a> ya que se describe cada uno de los pasos de compilación de forma manual.</p>
<h3 id="cómo-ejecutar-el-juego-en-pantalla-completa">Cómo ejecutar el juego en pantalla completa</h3>
<p>Si empaquetas el juego con electron, como muestra la sección anterior, también tienes la posibilidad de configurar la compilación para que funcione en modo pantalla completa. Para eso tienes que editar el archivo <code>index.js</code> y colocar <code>true</code> en la variable <code>pantalla_completa</code>:</p>
<p><img src="imagenes/exportar_juegos.assets/pantalla-completa.png" /></p>
<h3 id="cómo-llevar-mi-juego-a-celulares-tablets-y-tiendas-oficiales-de-apple-o-google">Cómo llevar mi juego a celulares, tablets y tiendas oficiales de apple o google</h3>
<p>Pilas incluye una forma sencilla de probar juegos en celulares y tablets, si solo quieres probar tus juegos te recomendamos mirar ahí primero.</p>
<p>Ahora bien, si en realidad lo que buscas es llevar tu juego de forma permanente a un celular o tablet, ya sea para tí, amigos o para publicar en un tienda oficial, lo que necesitas es instalar cordova, los SDK oficiales para tu tipo de dispositivo (android o ios) y compilar tu juego por completo.</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb6-1"><a href="#cb6-1"></a><span class="ex">npm</span> install cordova -g</span>
<span id="cb6-2"><a href="#cb6-2"></a></span>
<span id="cb6-3"><a href="#cb6-3"></a><span class="ex">cordova</span> create cordova</span></code></pre></div>
<p>Luego, tendrías que mover todos los archivos del directorio “proyecto” (index.html, pilas-engine.js etc…) dentro del directorio “cordova/www”.</p>
<p>Por último, tendrías que agregar la plataforma principal (android o ios) y luego iniciar la compilación:</p>
<p>Por ejemplo, para ios:</p>
<div class="sourceCode" id="cb7"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb7-1"><a href="#cb7-1"></a><span class="bu">cd</span> cordova</span>
<span id="cb7-2"><a href="#cb7-2"></a><span class="ex">cordova</span> platform add ios</span>
<span id="cb7-3"><a href="#cb7-3"></a><span class="ex">cordova</span> build ios</span></code></pre></div>
<p>y luego abrir el proyecto desde el directorio “platforms/ios” en xcode y ejecutar:</p>
<p><img src="imagenes/exportar_juegos.assets/xcode.png" /></p>
<p>Y para android:</p>
<div class="sourceCode" id="cb8"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb8-1"><a href="#cb8-1"></a><span class="bu">cd</span> cordova</span>
<span id="cb8-2"><a href="#cb8-2"></a><span class="ex">cordova</span> platform add android</span></code></pre></div>
<p>En este punto, asegúrate de haber movido todos los archivos del directorio “proyecto” (index.html, pilas-engine.js etc…) dentro del directorio “cordova/www”.</p>
<p>Luego tienes que generar el proyecto para android con este comando:</p>
<div class="sourceCode" id="cb9"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb9-1"><a href="#cb9-1"></a><span class="ex">cordova</span> build android</span></code></pre></div>
<p>y luego abrir el proyecto del directorio “platforms/android” con Android Studio y pulsar el botón ejecutar para lanzar el emulador:</p>
<p><img src="imagenes/exportar_juegos.assets/android-play.png" /></p>
<p>O bien, abrí el menú “Build” y luego “Build APK(s)” o “Generate Signed APK” para crear el un archivo <code>.apk</code> e instalarlo directamente en tu equipo o subirlo a la tienda Play Store de Google.</p>  <div class="tc navegacion">
  <div>
    <a href="#" onclick="document.documentElement.scrollTo(0, 0);">Subir</a>
  </div>

  <div>
    <a href="index.html">Regresar al índice</a>
  </div>
</div> 
  </body>
</html>
